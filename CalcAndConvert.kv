#:import Factory kivy.factory.Factory
<WindowManager>:
    MainWindow:
    SecondWindow:
<MainWindow>:
    name: "main"
    text_input: text_input
    FloatLayout:
        TextInput:
            text: '0'
            id: text_input
            readonly: True
            pos_hint: {'x': 0.1, 'y': 0.6}
            size_hint: 0.4, 0.1
        Button:
            text: '1'
            id: button_1
            pos_hint: {'x': 0.1, 'y': 0.2}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '2'
            id: button_2
            pos_hint: {'x': 0.2, 'y': 0.2}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '3'
            id: button_3
            pos_hint: {'x': 0.3, 'y': 0.2}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '4'
            id: button_4
            pos_hint: {'x': 0.1, 'y': 0.3}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '5'
            id: button_5
            pos_hint: {'x': 0.2, 'y': 0.3}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '6'
            id: button_6
            pos_hint: {'x': 0.3, 'y': 0.3}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '7'
            id: button_7
            pos_hint: {'x': 0.1, 'y': 0.4}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '8'
            id: button_8
            pos_hint: {'x': 0.2, 'y': 0.4}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '9'
            id: button_9
            pos_hint: {'x': 0.3, 'y': 0.4}
            size_hint: 0.1, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '0'
            id: button_0
            pos_hint: {'x': 0.1, 'y': 0.1}
            size_hint: 0.3, 0.1
            on_release: root.parameters(self.text)
        Button:
            text: '='
            pos_hint: {'x': 0.4, 'y': 0.1}
            size_hint: 0.1, 0.1
            on_release: root.calculate()
        Button:
            text: '+'
            pos_hint: {'x': 0.4, 'y': 0.2}
            size_hint: 0.1, 0.1
            on_release: root.operation(self.text)
        Button:
            text: '-'
            pos_hint: {'x': 0.4, 'y': 0.3}
            size_hint: 0.1, 0.1
            on_release: root.operation(self.text)
        Button:
            text: '*'
            pos_hint: {'x': 0.4, 'y': 0.4}
            size_hint: 0.1, 0.1
            on_release: root.operation(self.text)
        Button:
            text: '/'
            pos_hint: {'x': 0.4, 'y': 0.5}
            size_hint: 0.1, 0.1
            on_release: root.operation(self.text)
        Button:
            text: 'Просто кнопка, не трогать'
            pos_hint: {'x': 0.1, 'y': 0.5}
            size_hint: 0.3, 0.1
            on_release: root.restart()
        Button:
            text: "Switch"
            pos_hint: {'x': 0.9, 'y': 0.9}
            size_hint: 0.1, 0.1
            on_release:
                app.root.current = "second"
                root.manager.transition.direction = "up"
        Button:
            text: 'About'
            pos_hint: {'x': 0.8, 'y': 0.9}
            size_hint: 0.1, 0.1
            on_release:
                root.popup_open()
<SecondWindow>:
    name: "second"
    days_input: days_input
    FloatLayout:
        TextInput:
            text: ''
            id: days_input
            pos_hint: {'x': 0.1, 'y': 0.85}
            size_hint: 0.8, 0.1
            hint_text: 'Введите количество дней'
            hint_text_color: 'magenta'
            multiline: 'False'
        Button:
            text: 'Конвертация'
            color: 'cyan'
            background_color: 'red'
            pos_hint: {'x': 0.9, 'y': 0.85}
            size_hint: 0.1, 0.1
            on_release: root.convert()
        Label:
            text: 'Часы'
            pos_hint: {'left': 1, 'y': 0.7}
            size_hint: 0.1, 0.1
        Label:
            text: 'Минуты'
            pos_hint: {'left': 1, 'y': 0.6}
            size_hint: 0.1, 0.1
        Label:
            text: 'Секунды'
            pos_hint: {'left': 1, 'y': 0.5}
            size_hint: 0.1, 0.1
        Label:
            text: 'Миллисекунды'
            pos_hint: {'left': 1, 'y': 0.4}
            size_hint: 0.1, 0.1
        Label:
            text: 'Недели'
            pos_hint: {'left': 1, 'y': 0.3}
            size_hint: 0.1, 0.1
        Label:
            id: hours_output
            pos_hint: {'x': 0.1, 'y': 0.73}
            size_hint: 0.1, 0.05
        Label:
            id: minutes_output
            pos_hint: {'x': 0.1, 'y': 0.63}
            size_hint: 0.1, 0.05
        Label:
            id: seconds_output
            pos_hint: {'x': 0.1, 'y': 0.53}
            size_hint: 0.1, 0.05
        Label:
            id: milliseconds_output
            pos_hint: {'x': 0.1, 'y': 0.43}
            size_hint: 0.1, 0.05
        Label:
            id: weeks_output
            pos_hint: {'x': 0.1, 'y': 0.33}
            size_hint: 0.1, 0.05
        Button:
            text: "Switch"
            pos_hint: {'x': 0.0, 'y': 0.9}
            size_hint: 0.1, 0.1
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "down"
        Button:
            text: 'About'
            pos_hint: {'x': 0.9, 'y': 0}
            size_hint: 0.1, 0.1
            on_release:
                root.popup_open_second_window()